<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<script src="js/jquery-1.4.2.min.js"></script>
	<script>
		$(function(){
			/*1 当all 发生改变时，判断 all checked 属性是否为真，为真全选，为false 全不选*/
			$("#all").change(function(){
				var val=$(this).attr("checked");
				if(val){
					$(".item :checkbox").attr("checked",true);	
					$(".t").text($(".item :checkbox").length)
				}else{
					$(".item :checkbox").attr("checked",false);	
					$(".t").text(0);
				}
				
			})
			//2 单击小的，当被选中的数量大于等于checkbox数量是  让all 全选 else  all 不全选
			 $(".item :checkbox").change(function(){
			 	var selen=$(".item :checkbox:checked").length;
			 	//checkbox被选中的个数
			 	var itemlen=$(".item :checkbox").length;
			 	//小checkbox的个数
			 	if( selen>=itemlen){
			 		$("#all").attr("checked",true);
			 	}else{
			 			$("#all").attr("checked",false);
			 	}
			 	$(".t").text(selen);
			 })
			
		})
	</script>
</head>
<body>

	<h4><label ><input type="checkbox" name="" id="all" value="" /> 全选</label></h4>
	<ul class="item">
		<li><label ><input type="checkbox" />item1</label></li>
		<li><label ><input type="checkbox" />item2</label></li>
		<li><label ><input type="checkbox" />item3</label></li>
		<li><label ><input type="checkbox" />item4</label></li>
		<li><label ><input type="checkbox" />item5</label></li>
		<li><label><input type="checkbox" />item6</label></li>
		
	</ul>
	<p>有<span class="t"></span>项被选中</p>
</body>
</html>